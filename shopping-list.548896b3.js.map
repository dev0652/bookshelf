{"mappings":"imBAsBA,IAAAA,EACAC,E,iJArBA,IAAIC,EAAU,CAAC,EAoBfF,EAlBA,SAAkBG,GAGhB,IAFA,IAAIC,EAAOC,OAAOD,KAAKD,GAEdG,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAC/BJ,EAAQE,EAAKE,IAAMH,EAAMC,EAAKE,GAElC,EAaAL,EAXA,SAAiBO,GACf,IAAIC,EAAWP,EAAQM,GAEvB,GAAgB,MAAZC,EACF,MAAM,IAAIC,MAAM,oCAAsCF,GAGxD,OAAOC,CACT,C,ICpBAE,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,2TCAzD,IAAAC,EAAAJ,EAAA,S,uDCCA,MAAMK,GAAO,GADbD,EAAAJ,EAAA,UACaM,WAEPC,EAA4B,mBAE5BC,EACJN,KAAKC,MAAMM,aAAaC,QAAQH,KAA+B,G,SCNjEI,EAAiB,IAAAC,IAAoBZ,EAAA,SAAAa,QAA6C,qBAAAC,KAAUC,W,SCA5FC,EAAiB,IAAAJ,IAAoBZ,EAAA,SAAAa,QAA6C,qBAAAC,KAAUC,W,SFS5F,SAASE,IACP,MAAMC,EAAiB,IAAAN,IAAAD,GAGrBQ,KACIC,EAAe,IAAAR,IAAAI,GAClBG,KACGE,EAAa,IAAAT,IAAAU,GAChBH,KAIH,OAFAI,QAAQC,IAAI,iBAAkBhB,GAEvBA,EACJiB,KACC,EAACC,IACCA,EAAGC,MACHA,EAAKC,OACLA,EAAMC,YACNA,EAAWC,UACXA,EAASC,WACTA,EAAUC,mBACVA,EACAC,WAAYC,EAAOC,MAEZ,sHAIFJ,kBACAJ,4FAK0BA,kDACEG,kGAIGD,wFAILD,gIAKJI,sEACaX,gEACba,EAAMpB,uEACMI,gEACZiB,EAASrB,mEAAmEM,mHAG5CM,4CAA8CA,iIAO5GU,KAAK,GACV,CGxEAd,EAAiB,IAAAV,IAAoBZ,EAAA,SAAAa,QAA6C,qBAAAC,KAAUC,W,MCA5FsB,EAAiB,IAAAzB,IAAoBZ,EAAA,SAAAa,QAA6C,qBAAAC,KAAUC,WJ0E5F,WACE,MAAMuB,EAAiB,IAAA1B,IAAAyB,GACpBlB,KAEEX,EAAaZ,OAIlBS,EAAKkC,MAAMC,mBAAmB,YAAavB,KAHzCZ,EAAKkC,MAAME,UAAY,4JAA4JH,gCAIvL,CAEAI,GAGArC,EAAKkC,MAAMI,iBAAiB,SAASC,IACnC,GAAIA,EAAMC,OAAOC,QAAQ,uBAAwB,CAC/C,MAAMC,EAASH,EAAMC,OAAOG,aAAa,gBAEnCC,EAAYzC,EAAa0C,WAC7BC,GAAiBA,EAAczB,MAAQqB,IAWzC,GARAvC,EAAa4C,OAAOH,EAAW,GAE/BxC,aAAa4C,QACX9C,EACAL,KAAKoD,UAAU9C,IAGjBH,EAAKkC,MAAME,UAAYxB,KAClBT,EAAaZ,OAGhB,YAFAS,EAAKkC,MAAME,UACT,8HAGN,K,uBD5GW,EAAArC,EAAAE","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-3a31b2053d6b0100.js","src/shopping-list.js","src/js/shopping-list.js","node_modules/@parcel/runtime-js/lib/runtime-cf36cf5ab5731be9.js","node_modules/@parcel/runtime-js/lib/runtime-ec45650cc0a3e24f.js","node_modules/@parcel/runtime-js/lib/runtime-5d2ea5d597251bbc.js","node_modules/@parcel/runtime-js/lib/runtime-5f67503d7a5bf9d9.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"f9bx4\\\":\\\"shopping-list.548896b3.js\\\",\\\"3dsh1\\\":\\\"apple-books.652b354e.png\\\",\\\"1Fi3j\\\":\\\"book-shop.1d091ebd.png\\\",\\\"6GerT\\\":\\\"amazon.626c9508.png\\\",\\\"5tepk\\\":\\\"shoppingbook1.6c062fbc.png\\\",\\\"cetEh\\\":\\\"shopping-list.785aa044.js\\\"}\"));","import getRefs from './js/refs';\nconst refs = getRefs();\n\nimport './js/spinner.js';\n\n// Header\nimport './js/header-height-adjust';\nimport './js/color-scheme-switcher';\n// import './js/burger-mobile';\n\n// Sidebar\nimport './js/support';\n\n// Content part\nimport './js/spinner.js';\nimport './js/shopping-list';\n\n// Authorization\n// import './js/firebase/firebase';\nimport './js/form-validator';\n\n// Scroll-to-top button\nimport './js/back-to-top';\n","import getRefs from './refs.js';\nconst refs = getRefs();\n\nconst SHOPPING_LIST_STORAGE_KEY = 'storage-of-books'; // ключ\n\nconst shoppingList =\n  JSON.parse(localStorage.getItem(SHOPPING_LIST_STORAGE_KEY)) || [];\n\n// Рендер розмітки книг, які збережені у LS\nfunction renderMarkUp() {\n  const appleBooksIcon = new URL(\n    '../images/shops/apple-books.png',\n    import.meta.url\n  ).href;\n  const bookShopIcon = new URL('../images/shops/book-shop.png', import.meta.url)\n    .href;\n  const amazonIcon = new URL('../images/shops/amazon.png', import.meta.url)\n    .href;\n\n  console.log('shoppingList: ', shoppingList);\n\n  return shoppingList\n    .map(\n      ({\n        _id,\n        title,\n        author,\n        description,\n        list_name,\n        book_image,\n        amazon_product_url,\n        buy_links: [apple, bookshop],\n      }) => {\n        return `<article class=\"shopping__card\">\n  <div class=\"grid-img\">\n    <img\n      class=\"shopping__card-img\"\n      src=\"${book_image}\"\n      alt=\"${title}\"\n    />\n  </div>\n\n  <div class=\"grid-title\">\n    <h3 class=\"shopping__card-title\">${title}</h3>\n    <p class=\"shopping__card-category\">${list_name}</p>\n  </div>\n\n  <div class=\"grid-description\">\n    <p class=\"shopping__card-description\">${description}</p>\n  </div>\n\n  <div class=\"grid-author\">\n    <p class=\"shopping__card-author\">${author}</p>\n  </div>\n\n  <div class=\"grid-shoplist\">\n    <ul class=\"shopping__card-shoplist\">\n      <li class=\"store\"><a href=\"${amazon_product_url}\" target=\"_blank\">\n      <img class=\"modal-shop-img amazon\" src=\"${amazonIcon}\" alt=\"Amazon\"/></a></li>\n      <li class=\"store\"><a href=\"${apple.url}\" target=\"_blank\">\n      <img class=\"modal-shop-img apple\" src=\"${appleBooksIcon}\" alt=\"Apple\" /></a></li>\n      <li class=\"store\"><a href=\"${bookshop.url}\" target=\"_blank\"><img class=\"modal-shop-img book-shop\" src=\"${bookShopIcon}\" alt=\"Book\"/></a></li>\n    </ul>\n  </div>\n  <button class=\"shopping__card-btn\" type=\"button\" data-book-id=\"${_id}\"><svg class=\"icon-trash\" data-book-id=\"${_id}\" width=\"17\" height=\"17\"><use href=\"/symbol-defs.a8b2e413.svg#icon-trash\"></use></svg>\n  </button>\n</article>\n\n        `;\n      }\n    )\n    .join('');\n}\n\nfunction isEmpty() {\n  const pictureOfBooks = new URL('../images/shoppingbook1.png', import.meta.url)\n    .href;\n\n  if (!shoppingList.length) {\n    refs.divEl.innerHTML = `<div class=\"is-empty__wrapper\"><p class=\"is-empty__info\">This page is empty, add some books and proceed to order.</p><img class=\"is-empty__picture\" src=\"${pictureOfBooks}\" alt=\"Shop is Empty\"></div >`;\n    return;\n  }\n  refs.divEl.insertAdjacentHTML('beforeend', renderMarkUp());\n}\n\nisEmpty();\n\n// Видалення книги з корзини при натиску на кнопку\nrefs.divEl.addEventListener('click', event => {\n  if (event.target.closest('.shopping__card-btn')) {\n    const BookID = event.target.getAttribute('data-book-id');\n\n    const bookIndex = shoppingList.findIndex(\n      bookInStorage => bookInStorage._id === BookID\n    );\n\n    shoppingList.splice(bookIndex, 1);\n    // Зберігаємо зміни в LocalStorage\n    localStorage.setItem(\n      SHOPPING_LIST_STORAGE_KEY,\n      JSON.stringify(shoppingList)\n    );\n\n    refs.divEl.innerHTML = renderMarkUp();\n    if (!shoppingList.length) {\n      refs.divEl.innerHTML =\n        '<div class=\"is-empty__wrapper\"><p class=\"is-empty__info\">This page is empty, add some books and proceed to order.</p></div>';\n      return;\n    }\n  }\n});\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"3dsh1\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"1Fi3j\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"6GerT\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"5tepk\")).toString();"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$krGWQ","$e5c62ffd1c5d842f$var$refs","default","$e5c62ffd1c5d842f$var$SHOPPING_LIST_STORAGE_KEY","$e5c62ffd1c5d842f$var$shoppingList","localStorage","getItem","$d738d95b51fb9d81$exports","URL","resolve","url","toString","$65b5bcf5299cbc56$exports","$e5c62ffd1c5d842f$var$renderMarkUp","appleBooksIcon","href","bookShopIcon","amazonIcon","$e5cfff40304e52c1$exports","console","log","map","_id","title","author","description","list_name","book_image","amazon_product_url","buy_links","apple","bookshop","join","$1e73f177f523a8d4$exports","pictureOfBooks","divEl","insertAdjacentHTML","innerHTML","$e5c62ffd1c5d842f$var$isEmpty","addEventListener","event","target","closest","BookID","getAttribute","bookIndex","findIndex","bookInStorage","splice","setItem","stringify"],"version":3,"file":"shopping-list.548896b3.js.map"}