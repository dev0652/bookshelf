{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","src/js/refs.js","node_modules/@parcel/runtime-js/lib/runtime-42d716439f42e6e2.js","src/index.js","src/js/header-height-adjust.js","src/js/back-to-top.js","src/js/color-scheme-switcher.js","src/js/modal.js","node_modules/@parcel/runtime-js/lib/runtime-cf36cf5ab5731be9.js","node_modules/@parcel/runtime-js/lib/runtime-ec45650cc0a3e24f.js","node_modules/@parcel/runtime-js/lib/runtime-5d2ea5d597251bbc.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","export default function () {\n  return {\n    header: document.querySelector('header'),\n\n    // Scroll to top:\n    scrollToTopButton: document.querySelector('.back-to-top'),\n    toTopTarget: document.querySelector('.to-top-target'),\n\n    // Color scheme switcher:\n    colorSwitcher: document.querySelector('#color-scheme-switcher-checkbox'),\n\n    // All categories button:\n    allCategoriesBtn: document.querySelector('button[name=\"allcategories\"]'),\n\n\n    //Categories list:\n    categoryListEl: document.querySelector('.categories_list'),\n\n    // Sign up\n    openSignUpBtnEl: document.querySelector('#signUp-open-btn'),\n    signUpModalEl: document.querySelector('#sign-up-modal'),\n    closeSignUpBtnEl: document.querySelector('#signUp-modal-close-btn'),\n    openSignUpBtnSecondEl: document.querySelector('#signUp-open-btn-second'),\n    // Sign in\n    openSignInBtnEl: document.querySelector('#signIn-open-btn'),\n    signInModalEl: document.querySelector('#sign-in-modal'),\n    closeSignInBtnEl: document.querySelector('#signIn-modal-close-btn'),\n\n    // Pop Up\n    openModalPopUpBtn: document.querySelector('.open-modal-button'),\n    closeModalPopUpBtn: document.querySelector('[data-pop-up-close]'),\n    modalPopUpBtn: document.querySelector('.modal-pop-up-btn'),\n    modalPopUp: document.querySelector('[data-pop-up]'),\n    modalContentEl: document.querySelector('.modal-pop-up-content'),\n  };\n}\n","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"5ZPII\\\":\\\"index.0a553d01.js\\\",\\\"3dsh1\\\":\\\"apple-books.652b354e.png\\\",\\\"1Fi3j\\\":\\\"book-shop.1d091ebd.png\\\",\\\"6GerT\\\":\\\"amazon.626c9508.png\\\"}\"));","import getRefs from './js/refs';\nimport headerHeightAdjust from './js/header-height-adjust';\nimport { scrollToTop, toTopObserver } from './js/back-to-top';\nimport colorSwitcher from './js/color-scheme-switcher';\nimport { handleBookElClick } from './js/modal';\n\n\n\n\n// ##################################################################\n\n// Add your ref here:\nconst { scrollToTopButton, toTopTarget } = getRefs();\n\n// ##################################################################\n\n// Adjust body's top padding to account for page header height\nheaderHeightAdjust();\n\n// Activate scroll-to-top button\ntoTopObserver.observe(toTopTarget);\nscrollToTopButton.addEventListener('click', scrollToTop);\n\n// Activate color scheme switcher\ncolorSwitcher();\n\n// ##################################################################\n","import getRefs from './refs';\nconst { header } = getRefs();\n\nexport default function () {\n  const { height: pageHeaderHeight } = header.getBoundingClientRect();\n  document.body.style.paddingTop = `${pageHeaderHeight}px`;\n}\n","import getRefs from './refs';\nconst { scrollToTopButton } = getRefs();\n\nexport const toTopObserver = new IntersectionObserver(cb);\n\nfunction cb(entries) {\n  entries.forEach(entry => {\n    if (!entry.isIntersecting) {\n      scrollToTopButton.classList.remove('hidden');\n    } else {\n      scrollToTopButton.classList.add('hidden');\n    }\n  });\n}\n\nexport function scrollToTop() {\n  window.scroll({\n    top: 0,\n    behavior: 'smooth',\n  });\n}\n\n// observer.observe(target);\n// scrollToTopButton.addEventListener('click', scrollToTop);\n","import getRefs from './refs';\nconst { colorSwitcher } = getRefs();\n\n// Check if switcher position is saved in Local Storage\nfunction checkLocalStorage() {\n  return localStorage.getItem('saved switcher value');\n}\n\n// Save switcher position to Local Storage\nfunction updateLocalStorage(checkbox) {\n  localStorage.setItem('saved switcher value', checkbox.checked);\n}\n\n// #############################################################\n\nfunction presetSwitcher() {\n  const isSaved = checkLocalStorage();\n\n  if (!isSaved) return;\n\n  colorSwitcher.checked = isSaved === 'true' ? true : false;\n}\n\nfunction setSwitcher() {\n  if (colorSwitcher.checked) {\n    document.body.classList.add('dark');\n  } else {\n    document.body.classList.remove('dark');\n  }\n}\n\n// #############################################################\n\n// Checkbox event handler\nfunction onChange(event) {\n  setSwitcher();\n  updateLocalStorage(event.currentTarget);\n}\n\n// #############################################################\n\n// Action!\nexport default function () {\n  presetSwitcher();\n  setSwitcher();\n\n  colorSwitcher.addEventListener('change', onChange);\n}\n","// import BooksApi from './api';\n\nimport getRefs from './refs.js';\n\nconst refs = getRefs();\n\nclass BooksApi {\n  #BASE_URL = `https://books-backend.p.goit.global/books`;\n  bookID = null;\n\n  async fetchBookByID() {\n    try {\n      const response = await fetch(`${this.#BASE_URL}/${this.bookID}`);\n      const book = await response.json();\n      return book;\n    } catch (error) {\n      console.log(error.message);\n    }\n  }\n}\n\nconst BookAPI = new BooksApi();\n\n// const modalContentEl = document.querySelector('.modal-pop-up-content');\n\nexport async function handleBookElClick(e) {\n  // const id = e.target.attributes.data_id.value;\n  BookAPI.bookID = '643282b1e85766588626a080';\n\n  try {\n    const data = await BookAPI.fetchBookByID();\n    toggleModal();\n    refs.modalContentEl.innerHTML = createModal(data);\n  } catch (err) {\n    console.log(err);\n  }\n}\n\nexport function createModal(data) {\n  const {\n    book_image,\n    author,\n    title,\n    description,\n    amazon_product_url,\n    buy_links: [amazon, apple, bandn, million, bookshop, indie],\n  } = data;\n\n  const appleBooksIcon = new URL(\n    '../images/shops/apple-books.png',\n    import.meta.url\n  ).href;\n  const bookShopIcon = new URL('../images/shops/book-shop.png', import.meta.url)\n    .href;\n  const amazonIcon = new URL('../images/shops/amazon.png', import.meta.url)\n    .href;\n\n  return `\n                        \n              <img class=\"modal-img\" src=\"${book_image}\"/>\n              <div class='modal-book-atributes'>\n              <p class=\"modal-book-title\">${title}</p>\n              <p class=\"modal-book-author\">${author}</p>\n              <p class=\"modal-book-desc\">${description}</p>\n              <div class=\"modal-shops\">\n              <a class=\"modal-shop-link\" href=\"${amazon_product_url}\" target=\"_blank\">\n              <img class=\"modal-shop-img amazon\" src=\"${amazonIcon}\" alt=\"Amazon link\"/>\n              </a>\n              <a class=\"modal-shop-link\" href=\"${apple.url}\" target=\"_blank\">\n              <img class=\"modal-shop-img apple\" src=\"${appleBooksIcon}\" alt=\"Apple Books link\" />\n              </a>\n              <a class=\"modal-shop-link\" href=\"${bookshop.url}\" target=\"_blank\">\n              <img class=\"modal-shop-img\" src=\"${bookShopIcon}\" alt=\"Book Shop link\"/>\n              </a>\n              </div>\n              </div>\n              \n          `;\n}\n\nrefs.openModalPopUpBtn.addEventListener('click', handleBookElClick);\n\nfunction toggleModal() {\n  refs.modalPopUp.classList.toggle('is-hidden');\n}\n\n// Close PopUp Modal by Close btn click\nrefs.closeModalPopUpBtn.addEventListener(\n  'click',\n  handleModalPopUpCloseBtnClick\n);\n\nfunction handleModalPopUpCloseBtnClick(e) {\n  toggleModal();\n  refs.modalContentEl.innerHTML = '';\n}\n\n// Close PopUp Modal by Esc click\nwindow.addEventListener('keydown', e => {\n  if (e.key === 'Escape') {\n    toggleModal();\n  }\n});\n\n// Close PopUp Modal by backdrop click\n// !!!\n\nrefs.modalPopUpBtn.addEventListener('click', handleModalPopUpBtnClick);\n\nfunction handleModalPopUpBtnClick(e) {\n  e.target.textContent = 'remove from the shopping list';\n  e.target.insertAdjacentHTML(\n    'afterend',\n    '<p class=\"modal-message\">Сongratulations! You have added the book to the shopping list. To delete, press the button “Remove from the shopping list”.</p>'\n  );\n}\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"3dsh1\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"1Fi3j\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"6GerT\")).toString();"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$ee27a4d7c64fc8c4$export$2e2bcd8739ae039","header","document","querySelector","scrollToTopButton","toTopTarget","colorSwitcher","allCategoriesBtn","categoryListEl","openSignUpBtnEl","signUpModalEl","closeSignUpBtnEl","openSignUpBtnSecondEl","openSignInBtnEl","signInModalEl","closeSignInBtnEl","openModalPopUpBtn","closeModalPopUpBtn","modalPopUpBtn","modalPopUp","modalContentEl","parcelRequire","register","JSON","parse","$krGWQ","$24f42519315f35ba$var$header","default","$debdc42bca9e903e$var$scrollToTopButton","$debdc42bca9e903e$export$3ac1dfede6d50a59","IntersectionObserver","entries","forEach","entry","isIntersecting","classList","add","remove","$59ca9ca21292efdf$var$colorSwitcher","$59ca9ca21292efdf$var$presetSwitcher","isSaved","localStorage","getItem","checked","$59ca9ca21292efdf$var$setSwitcher","body","$59ca9ca21292efdf$var$onChange","event","checkbox","currentTarget","setItem","$8a7e756c566dd1ea$var$refs","$8a7e756c566dd1ea$var$BookAPI","BASE_URL","bookID","async","response","fetch","this","json","error","console","log","message","$d738d95b51fb9d81$exports","URL","resolve","import","meta","url","toString","$65b5bcf5299cbc56$exports","$8a7e756c566dd1ea$var$toggleModal","toggle","$e5cfff40304e52c1$exports","addEventListener","e","data","fetchBookByID","innerHTML","book_image","author","title","description","amazon_product_url","buy_links","amazon","apple","bandn","million","bookshop","indie","appleBooksIcon","href","bookShopIcon","amazonIcon","$8a7e756c566dd1ea$export$b63bc83cbdd7b6d5","err","window","key","target","textContent","insertAdjacentHTML","$1f0dc3b9307be026$var$scrollToTopButton","$1f0dc3b9307be026$var$toTopTarget","height","pageHeaderHeight","getBoundingClientRect","style","paddingTop","observe","scroll","top","behavior"],"version":3,"file":"index.0a553d01.js.map"}