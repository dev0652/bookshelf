{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/runtime-471ace3057417237.js","src/index.js","src/js/renderCategoriesList.js","src/js/activeCatBtnSwitcher.js","src/js/home-categories.js","src/js/handleAllCategoriesClick.js","src/js/home-bs/fetchBooks.js","src/js/home-bs/markupBook.js","src/js/home-bs/home-bs.js","src/js/fetchSelectedBooks.js","src/js/renderSelectedCategory.js","src/js/renderSelectedBooks.js","src/js/modal.js","node_modules/@parcel/runtime-js/lib/runtime-627fae9c2d0bf87e.js","node_modules/@parcel/runtime-js/lib/runtime-9d434d3bd72fb2e2.js","node_modules/@parcel/runtime-js/lib/runtime-8343ca3cec98489e.js","src/js/seeMore.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"EVgbq\\\":\\\"index.77e5aafc.js\\\",\\\"4j2Vp\\\":\\\"apple-books.652b354e.png\\\",\\\"gUbv1\\\":\\\"book-shop.1d091ebd.png\\\",\\\"dRQ8R\\\":\\\"amazon.626c9508.png\\\",\\\"7MYWd\\\":\\\"shopping-list.e180ada6.css\\\",\\\"6Gzb5\\\":\\\"shopping-list.8e57df9f.js\\\"}\"));","import './js/spinner.js';\n\n// Header\nimport './js/header-height-adjust';\nimport './js/burger-mobile';\nimport './js/color-scheme-switcher';\n\n// Sidebar\nimport './js/renderCategoriesList.js';\nimport './js/activeCatBtnSwitcher';\nimport './js/home-categories';\nimport './js/handleAllCategoriesClick';\nimport './js/support';\n// import './js/fetchSelectedBooks';\nimport './js/renderSelectedBooks';\n\n// Content part\nimport './js/home-bs/home-bs';\n\n// Modal - popup\nimport './js/modal';\n\n// Authorization\nimport './js/firebase/firebase';\nimport './js/firebase/authservice';\nimport './js/firebase/firebaseservise';\n\n// import './js/form-validator';\n\n// Scroll-to-top button\nimport './js/back-to-top';\nimport './js/color-scheme-switcher';\nimport './js/authorization-form';\n\nimport './js/seeMore';\n","import axios from 'axios';\nimport getRefs from './refs';\n\nconst { categoryListEl } = getRefs();\n\nasync function categoriesArray() {\n  try {\n    const { data } = await axios.get(\n      'https://books-backend.p.goit.global/books/category-list'\n    );\n\n    return data;\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nexport async function renderCategories() {\n  try {\n    const array = await categoriesArray();\n    const inAlphabeticalOrder = array.sort((a, b) =>\n      a.list_name.localeCompare(b.list_name)\n    );\n\n    for (const arr of inAlphabeticalOrder) {\n      const listItem = document.createElement('li');\n      const catBtn = document.createElement('button');\n      catBtn.classList.add('category-btn');\n      catBtn.textContent = `${arr.list_name}`;\n      catBtn.setAttribute('id', arr.list_name);\n      categoryListEl.appendChild(listItem);\n      listItem.appendChild(catBtn);\n    }\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nrenderCategories();\n","import getRefs from './refs';\n\nconst { categoriesListContainer } = getRefs();\n\ncategoriesListContainer.addEventListener('click', activeCatBtnSwitch);\n\nfunction activeCatBtnSwitch(e) {\n  e.preventDefault();\n  if (e.target.nodeName !== 'BUTTON') {\n    return;\n  }\n\n  const activeBtn = e.target;\n  const prevActiveBtn = document.querySelector('.active-category');\n\n  if (prevActiveBtn && prevActiveBtn !== activeBtn) {\n    prevActiveBtn.classList.remove('active-category');\n  }\n\n  activeBtn.classList.add('active-category');\n}\n","import getRefs from './refs';\nconst { categoryListEl, titleEl } = getRefs();\n\n// Find and paint last word in a category title\nlet lastWord = '';\n\nfunction handleCategoryClick(event) {\n  if (event.target.classList.contains('category-btn')) {\n    const buttonText = event.target.textContent;\n    const words = buttonText.split(' ');\n    lastWord = words[words.length - 1];\n    const buttonTextWithoutLastWord = buttonText\n      .split(' ')\n      .slice(0, -1)\n      .join(' ');\n\n    titleEl.textContent = buttonTextWithoutLastWord;\n    titleEl.innerHTML += ` <span class=\"home-bs__title-part\">${lastWord}</span>`;\n  }\n}\n\ncategoryListEl.addEventListener('click', handleCategoryClick);\n","// import { title } from 'process';\nimport getRefs from './refs';\nimport { renderTopBooks } from './home-bs/home-bs';\n\nconst { allCategoriesBtn, selectedBooksListEl, titleEl } = getRefs();\n\nallCategoriesBtn.addEventListener('click', handleAllCategoriesClick);\n\nasync function handleAllCategoriesClick(e) {\n  e.preventDefault();\n  titleEl.innerHTML = `Best Sellers <span class=\"home-bs__title-part\">Books</span>`;\n  selectedBooksListEl.innerHTML = '';\n  await renderTopBooks();\n}\n","import axios from 'axios';\nimport Notiflix from 'notiflix';\n\nexport default async function getTopBooksArray() {\n  Notiflix.Loading.dots();\n  // Notiflix.Loading.pulse();\n\n  try {\n    const { data } = await axios.get(\n      'https://books-backend.p.goit.global/books/top-books'\n    );\n    Notiflix.Loading.remove();\n\n    return data;\n  } catch (error) {\n    Notiflix.Loading.remove();\n    Notiflix.Notify.failure('Something went wrong. Please try again');\n    console.log(error);\n  }\n}\n","export function createBookMarkup(book) {\n  const markup = `\n\t\t\t\t\t\t<a class=\"book-item-link\" href=\"\" aria-label=\"Book thumbnail\">\n\t\t\t\t\t\t\t<div class=\"book-item-thumb\">\n\n\t\t\t\t\t\t\t\t<img class=\"book-image\" src=\"${book.book_image}\"  loading=\"lazy\" data_id=${book._id} />\n\n\t\t\t\t\t\t\t\t<div class=\"book-image-overlay\" data_id=${book._id} >\n\t\t\t\t\t\t\t\t\t<p class=\"book-image-overlay-text\">Quick view</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"book-item-meta\">\n\t\t\t\t\t\t\t\t<h3 class=\"book-title\">${book.title}</h3>\n       \t\t\t\t\t        <p class=\"book-author\"> ${book.author}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</a>\n\n        `;\n\n  return markup;\n}\n","import getTopBooksArray from './fetchBooks';\nimport { createBookMarkup } from './markupBook.js';\nimport getRefs from '../refs';\n\nconst { selectedBooksListEl } = getRefs();\n\nexport async function renderTopBooks() {\n  try {\n    const data = await getTopBooksArray();\n\n    for (const element of data) {\n      const categoryItem = document.createElement('li');\n      categoryItem.classList.add('home-category');\n\n      const categoryTitel = document.createElement('h2');\n      categoryTitel.classList.add('home-category-title');\n      categoryItem.appendChild(categoryTitel);\n      categoryTitel.innerText = element.list_name;\n\n      selectedBooksListEl.appendChild(categoryItem);\n\n      const bestSellers = document.createElement('ul');\n      bestSellers.classList.add('books-list');\n\n      for (const book of element.books) {\n        const bestBook = document.createElement('li');\n        bestBook.classList.add('book-item');\n        bestBook.innerHTML = createBookMarkup(book);\n\n        bestSellers.appendChild(bestBook);\n        categoryItem.appendChild(bestSellers);\n      }\n\n      const buttonEl = document.createElement('button');\n      buttonEl.classList.add('button');\n      buttonEl.classList.add('see-more-btn');\n      buttonEl.innerText = 'See more';\n      buttonEl.setAttribute('id', element.list_name);\n\n      categoryItem.appendChild(buttonEl);\n    }\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nrenderTopBooks();\n","import axios from 'axios';\nimport Notiflix from 'notiflix';\n\nexport async function fetchSelectedBooks(category) {\n  // Notiflix.Loading.pulse('Please hang on...');\n  Notiflix.Loading.dots('Please wait');\n\n  try {\n    const { data } = await axios.get(\n      `https://books-backend.p.goit.global/books/category?category=${category}`\n    );\n    Notiflix.Loading.remove();\n    return data;\n  } catch (error) {\n    Notiflix.Loading.remove();\n    Notiflix.Notify.failure('Something went wrong. Please try again');\n    console.log(error);\n  }\n}\n","import getRefs from './refs';\nconst { selectedBooksListEl } = getRefs();\n\nexport function renderPage(data) {\n  selectedBooksListEl.innerHTML = '';\n  return data\n    .map(\n      ({\n        _id,\n        title,\n        author,\n        description,\n        list_name,\n        book_image,\n        book_image_width,\n        book_image_height,\n      }) => {\n        return `<li class=\"book-item-cat\">\n        \n                <a class=\"book-item-link\" href=\"\" aria-label=\"Book thumbnail\">\n\t\t\t\t\t\t\t<div class=\"book-item-thumb\">\n\n\t\t\t\t\t\t\t\t<img class=\"book-image\" src=\"${book_image}\"  loading=\"lazy\" data_id=${_id} />\n\n\t\t\t\t\t\t\t\t<div class=\"book-image-overlay\" data_id=${_id} >\n\t\t\t\t\t\t\t\t\t<p class=\"book-image-overlay-text\">Quick view</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"book-item-meta\">\n\t\t\t\t\t\t\t\t<h3 class=\"book-title\">${title}</h3>\n       \t\t\t\t\t        <p class=\"book-author\"> ${author}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</a>\n        \n        </li>`;\n\n      }\n    )\n    .join('');\n}\n","import { fetchSelectedBooks } from './fetchSelectedBooks';\nimport { renderPage } from './renderSelectedCategory';\n\nimport getRefs from './refs';\nconst { categoryListEl, selectedBooksListEl } = getRefs();\n\ncategoryListEl.addEventListener('click', renderSelectedBooks);\n\nasync function renderSelectedBooks(e) {\n  e.preventDefault();\n  if (e.target.nodeName !== 'BUTTON') {\n    return;\n  }\n  const id = e.target.attributes.id.value;\n\n  const data = await fetchSelectedBooks(id);\n\n  selectedBooksListEl.insertAdjacentHTML('beforeend', renderPage(data));\n}\n","import getRefs from './refs.js';\nconst refs = getRefs();\n\nrefs.categoryContainerEl.addEventListener('click', function (e) {\n  // e.target was the clicked element\n  e.preventDefault();\n  if (\n    e.target.matches('.book-image') ||\n    e.target.matches('.book-image-overlay')\n  ) {\n    handleBookElClick(e);\n  }\n});\n\nclass BooksApi {\n  #BASE_URL = `https://books-backend.p.goit.global/books`;\n  bookID = null;\n\n  async fetchBookByID() {\n    try {\n      const response = await fetch(`${this.#BASE_URL}/${this.bookID}`);\n      const book = await response.json();\n      return book;\n    } catch (error) {\n      console.log(error.message);\n    }\n  }\n}\n\nconst BookAPI = new BooksApi();\nconst SHOPPING_LIST_STORAGE_KEY = 'storage-of-books'; // ключ\n\nconst shoppingList =\n  JSON.parse(localStorage.getItem(SHOPPING_LIST_STORAGE_KEY)) || [];\nconsole.log(shoppingList);\n\n// Функція для додавання товару у корзину\nfunction addToStorage(book) {\n  // Додаємо товар до корзини\n  shoppingList.push(book);\n  // Зберігаємо зміни в LocalStorage\n  localStorage.setItem(SHOPPING_LIST_STORAGE_KEY, JSON.stringify(shoppingList));\n}\n\n// Додавання книги у корзину, за наявності книги - видалення книги, зміна Textcontent кнопкпи\nfunction handleAddBookInStorage(data) {\n  //   Фільтрування унікальності книги\n  const isBookId = shoppingList.find(\n    bookInStorage => bookInStorage._id === data._id\n  );\n\n  // Видалення книги у модальному вікні\n  if (isBookId) {\n    const dataBookID = refs.addBtnEL.getAttribute('data_id_of_book');\n\n    const bookIndex = shoppingList.findIndex(\n      bookInStorage => bookInStorage._id === dataBookID\n    );\n\n    shoppingList.splice(bookIndex, 1);\n    // Зберігаємо зміни в LocalStorage\n    localStorage.setItem(\n      SHOPPING_LIST_STORAGE_KEY,\n      JSON.stringify(shoppingList)\n    );\n    refs.addBtnEL.textContent = 'Add to shopping list';\n    modalMessage.remove(); //видалення повідомлення\n    console.log('Книгу видалено');\n    return;\n  }\n  // Додавання книги у модальному вікні\n  addToStorage(data);\n  refs.addBtnEL.textContent = 'Remove from the shopping list';\n  refs.addBtnEL.after(modalMessage); //додавання повідомлення\n  console.log('Книгу додано');\n}\n\n// Обробник кліку по кнопці у модальному вікні\nexport async function handleBookElClickToStorage(e) {\n  try {\n    const data = await BookAPI.fetchBookByID(); // обєкт із бекенду\n    handleAddBookInStorage(data); // додавання/видалення книги\n    // const isBookId = shoppingList.find(\n    //   bookInStorage => bookInStorage._id === data._id\n    // );\n    // if (isBookId) {\n    //   console.log('добавлено у кошик');\n    //   addBtnEL.textContent = 'STOP';\n    //   return;\n    // }\n  } catch (err) {\n    console.log(err);\n  }\n}\n\nrefs.addBtnEL.addEventListener('click', handleBookElClickToStorage);\n\n//Створення повідомлення після натискання на кнопку addBtnEL\nconst modalMessage = document.createElement('p');\nmodalMessage.classList.add('modal-message');\nmodalMessage.textContent =\n  'Congratulations! You have added the book to the shopping list. To delete, press the button \"Remove from the shopping list.\"';\n\n//Обробник кліку по книжці\nexport async function handleBookElClick(e) {\n  BookAPI.bookID = e.target.attributes.data_id.value;\n\n  try {\n    const data = await BookAPI.fetchBookByID();\n    refs.modalPopUp.classList.remove('is-hidden');\n    refs.modalContentEl.innerHTML = createModal(data);\n    document.body.style.overflow = 'hidden';\n    refs.closeModalPopUpBtn.addEventListener(\n      'click',\n      handleModalPopUpCloseBtnClick\n    );\n    document.addEventListener(\n      'keydown',\n      e => {\n        if (e.key === 'Escape') {\n          refs.modalPopUp.classList.add('is-hidden');\n          document.body.style.removeProperty('overflow');\n        }\n      },\n      { once: true }\n    );\n    document.addEventListener('click', handleBackdropClick);\n    const isBookId = shoppingList.find(\n      bookInStorage => bookInStorage._id === data._id\n    );\n    if (isBookId) {\n      refs.addBtnEL.textContent = 'Remove from the shopping list';\n      refs.addBtnEL.after(modalMessage);\n      console.log('Ця книга вже у кошику');\n      return;\n    }\n    refs.addBtnEL.textContent = 'Add to shopping list';\n    modalMessage.remove();\n  } catch (err) {\n    console.log(err);\n  }\n}\n\nexport function createModal(data) {\n  const {\n    _id,\n    book_image,\n    author,\n    title,\n    description,\n    amazon_product_url,\n    buy_links: [amazon, apple, bandn, million, bookshop, indie],\n  } = data;\n\n  const appleBooksIcon = new URL(\n    '../images/shops/apple-books.png',\n    import.meta.url\n  ).href;\n  const bookShopIcon = new URL('../images/shops/book-shop.png', import.meta.url)\n    .href;\n  const amazonIcon = new URL('../images/shops/amazon.png', import.meta.url)\n    .href;\n\n  refs.addBtnEL.setAttribute('data_id_of_book', `${_id}`);\n\n  return `\n                        \n              <img class=\"modal-img\" src=\"${book_image}\"/>\n              <div class='modal-book-attributes'>\n              <p class=\"modal-book-title\">${title}</p>\n              <p class=\"modal-book-author\">${author}</p>\n              <p class=\"modal-book-desc\">${description}</p>\n              <div class=\"modal-shops\">\n              <a class=\"modal-shop-link\" href=\"${amazon_product_url}\" target=\"_blank\" rel=\"noreferrer noopener\">\n              <img class=\"modal-shop-img shopping-shopimg amazon\" src=\"${amazonIcon}\" alt=\"Amazon link\"/>\n              </a>\n              <a class=\"modal-shop-link\" href=\"${apple.url}\" target=\"_blank\" rel=\"noreferrer noopener\">\n              <img class=\"modal-shop-img shopping-shopimg apple\" src=\"${appleBooksIcon}\" alt=\"Apple Books link\" />\n              </a>\n              <a class=\"modal-shop-link\" href=\"${bookshop.url}\" target=\"_blank\" rel=\"noreferrer noopener\">\n              <img class=\"modal-shop-img shopping-shopimg book-shop\" src=\"${bookShopIcon}\" alt=\"Book Shop link\"/>\n              </a>\n              </div>\n              </div>\n              \n          `;\n}\n\nfunction handleModalPopUpCloseBtnClick(e) {\n  refs.modalPopUp.classList.add('is-hidden');\n  document.body.style.removeProperty('overflow');\n}\n\nfunction handleBackdropClick(e) {\n  if (e.target == refs.modalPopUp) {\n    refs.modalPopUp.classList.add('is-hidden');\n    document.body.style.removeProperty('overflow');\n  }\n}\n\nrefs.closeModalPopUpBtn.removeEventListener(\n  'click',\n  handleModalPopUpCloseBtnClick\n);\n\ndocument.removeEventListener('click', handleBackdropClick);\n","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"4j2Vp\");","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"gUbv1\");","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"dRQ8R\");","// import axios from 'axios';\n// import Notiflix from 'notiflix';\nimport { fetchSelectedBooks } from './fetchSelectedBooks';\nimport { renderPage } from './renderSelectedCategory';\nimport { scrollToTop } from './back-to-top';\nimport getRefs from './refs';\nconst { titleEl, categoryContainerEl, selectedBooksListEl } = getRefs();\n\ncategoryContainerEl.addEventListener('click', renderCategory);\n\n// async function seeMore(category) {\n//   // Notiflix.Loading.pulse('Please hang on...');\n//   Notiflix.Loading.dots('Please wait');\n\n//   try {\n//     const { data } = await axios.get(\n//       `https://books-backend.p.goit.global/books/category?category=${category}`\n//     );\n//     Notiflix.Loading.remove();\n//     return data;\n//   } catch (error) {\n//     Notiflix.Loading.remove();\n//     Notiflix.Notify.failure('Something went wrong. Please try again');\n//     console.log(error);\n//   }\n// }\n\nasync function renderCategory(e) {\n  if (e.target.classList.contains('see-more-btn')) {\n    const id = e.target.attributes.id.value;\n    const words = id.split(' ');\n    let lastWord;\n    lastWord = words[words.length - 1];\n    const titleCategory = id.split(' ').slice(0, -1).join(' ');\n\n    titleEl.textContent = titleCategory;\n    titleEl.innerHTML += ` <span class=\"home-bs__title-part\">${lastWord}</span>`;\n    const data = await fetchSelectedBooks(id);\n\n    const categoriesBtn = document.querySelectorAll('.category-btn');\n    const activeCategoryBtn = document.querySelector('.active-category');\n    for (const btn of categoriesBtn) {\n      if (btn.textContent === id) {\n        btn.classList.add('active-category');\n      }\n    }\n    activeCategoryBtn.classList.remove('active-category');\n    selectedBooksListEl.insertAdjacentHTML('beforeend', renderPage(data));\n    scrollToTop();\n  }\n}\n"],"names":["parcelRequire","register","JSON","parse","$dIxxU","categoryListEl","$62fdd65b28c5686f$var$categoryListEl","$4Nugj","default","async","inAlphabeticalOrder","data","get","error","console","log","$62fdd65b28c5686f$var$categoriesArray","sort","a","b","list_name","localeCompare","arr","listItem","document","createElement","catBtn","classList","add","textContent","setAttribute","appendChild","$62fdd65b28c5686f$export$f20c709553293f6e","categoriesListContainer","$e114981260a164bd$var$categoriesListContainer","addEventListener","e","preventDefault","target","nodeName","activeBtn","prevActiveBtn","querySelector","remove","$da98471b0b382a2b$var$categoryListEl","titleEl","$da98471b0b382a2b$var$titleEl","$da98471b0b382a2b$var$lastWord","event","contains","buttonText","words","split","length","buttonTextWithoutLastWord","slice","join","innerHTML","$8ebd65c7b51cadc7$export$2e2bcd8739ae039","$parcel$interopDefault","$6JpON","Loading","dots","Notify","failure","$71b2a5163445dc17$export$fc330cc8afb2a391","book","book_image","_id","title","author","selectedBooksListEl","$ed1c5cd83a4972f1$var$selectedBooksListEl","$ed1c5cd83a4972f1$export$897fb17cde4e950b","element","categoryItem","categoryTitel","innerText","bestSellers","books","bestBook","buttonEl","allCategoriesBtn","$bf38f6d981f0deae$var$allCategoriesBtn","$bf38f6d981f0deae$var$selectedBooksListEl","$bf38f6d981f0deae$var$titleEl","$c13773ff8d853e3c$export$a18ca9cdd4a7f115","category","$2614d36c4a0f4415$var$selectedBooksListEl","$2614d36c4a0f4415$export$224298a172524123","map","description","book_image_width","book_image_height","$e145d41bf5fd4cc7$var$categoryListEl","$e145d41bf5fd4cc7$var$selectedBooksListEl","id","attributes","value","insertAdjacentHTML","$40873ecf3c18e122$var$refs","categoryContainerEl","matches","$40873ecf3c18e122$var$BookAPI","bookID","data_id","fetchBookByID","modalPopUp","modalContentEl","amazon_product_url","buy_links","amazon","apple","bandn","million","bookshop","indie","appleBooksIcon","URL","$e1ad0c5f97457441$exports","href","bookShopIcon","$9bc4add398076a3b$exports","amazonIcon","$3a0b28603f122d40$exports","addBtnEL","url","$40873ecf3c18e122$export$b63bc83cbdd7b6d5","body","style","overflow","closeModalPopUpBtn","$40873ecf3c18e122$var$handleModalPopUpCloseBtnClick","key","removeProperty","once","$40873ecf3c18e122$var$handleBackdropClick","$40873ecf3c18e122$var$shoppingList","find","bookInStorage","after","$40873ecf3c18e122$var$modalMessage","err","$40873ecf3c18e122$export$8ec645b97243d00e","BASE_URL","response","fetch","this","json","message","$40873ecf3c18e122$var$SHOPPING_LIST_STORAGE_KEY","localStorage","getItem","$40873ecf3c18e122$var$handleAddBookInStorage","dataBookID","getAttribute","bookIndex","findIndex","splice","setItem","stringify","push","getBundleURL","resolve","removeEventListener","$443e93a242c350ee$var$titleEl","$443e93a242c350ee$var$categoryContainerEl","$443e93a242c350ee$var$selectedBooksListEl","lastWord","titleCategory","categoriesBtn","querySelectorAll","activeCategoryBtn","btn","$bX5OU","scrollToTop"],"version":3,"file":"index.77e5aafc.js.map"}