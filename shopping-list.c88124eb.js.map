{"mappings":"YAAA,aAEA,IAAMA,EAAQC,SAASC,cAAc,mBAC/BC,EAA4B,mBAGH,SAAtBC,IACP,OAAOC,EACJC,KAAI,SAAAC,G,IAAGC,EAAKD,EAALC,MAAOC,EAAMF,EAANE,OAAQC,EAAWH,EAAXG,YAAaC,EAASJ,EAATI,UAClC,MAAO,+OAW4BC,OADFJ,EAAM,kDAKDI,OAJHD,EAAU,sFAQZC,OAJKF,EAAY,iFAcaE,OAV9BH,EAAO,iUAU6BG,OAANJ,EAAM,2J,IAMtEK,KAAK,G,CAGV,IAAMR,EACJS,KAAKC,MAAMC,aAAaC,QAAQd,KAA+B,GAG1DE,EAAaa,OAKlBlB,EAAMmB,mBAAmB,YAAaf,KAJpCJ,EAAMoB,UACJ,8HASWnB,SAASC,cAAc,mBAE/BmB,iBAAiB,SAAS,SAAAC,GACjC,GAAIA,EAAMC,OAAOC,UAAUC,SAAS,sBAAuB,CACzD,IAAMC,EAAeJ,EAAMC,OAAOI,aAAa,kBAEzCC,EAAYvB,EAAawB,WAC7B,SAAAC,G,OAAiBA,EAActB,QAAUkB,C,IAW3C,GARArB,EAAa0B,OAAOH,EAAW,GAEfZ,aAAHgB,QACX7B,EACAW,KAAKmB,UAAU5B,IAGjBL,EAAMoB,UAAYhB,KACbC,EAAaa,OAGhB,YAFAlB,EAAMoB,UACJ,8H","sources":["src/js/shopping-list.js"],"sourcesContent":["'use strict';\n\nconst divEl = document.querySelector('.shopping__list');\nconst SHOPPING_LIST_STORAGE_KEY = 'storage-of-books'; // ключ\n\n// Рендер розмітки книг, які збережені у LS\nfunction renderMarkUp() {\n  return shoppingList\n    .map(({ title, author, description, list_name }) => {\n      return `<article class=\"shopping__card\">\n  <div class=\"div1\">\n    <img\n      class=\"shopping__card-img\"\n      src=\"https://picsum.photos/116/165\"\n      alt=\"\"\n    />\n  </div>\n\n  <div class=\"div2\">\n    <h3 class=\"shopping__card-title\">${title}</h3>\n    <p class=\"shopping__card-category\">${list_name}</p>\n  </div>\n\n  <div class=\"div3\">\n    <p class=\"shopping__card-description\">${description}</p>\n  </div>\n\n  <div class=\"div4\">\n    <p class=\"shopping__card-author\">${author}</p>\n  </div>\n\n  <div class=\"div5\">\n    <ul class=\"shopping__card-shoplist\">\n      <li class=\"store\"><a href=\"\">St1</a></li>\n      <li class=\"store\"><a href=\"\">St2</a></li>\n      <li class=\"store\"><a href=\"\">St3</a></li>\n    </ul>\n  </div>\n  <button class=\"shopping__card-btn\" type=\"button\" data-book-name=\"${title}\"><svg class=\"icon-trash\" width=\"16\" height=\"16\"><use href=\"./src/images/symbol-defs.svg#icon-chevron\"></use></svg>\n  </button>\n</article>\n\n        `;\n    })\n    .join('');\n}\n\nconst shoppingList =\n  JSON.parse(localStorage.getItem(SHOPPING_LIST_STORAGE_KEY)) || [];\n\nfunction isEmpty() {\n  if (!shoppingList.length) {\n    divEl.innerHTML =\n      '<div class=\"is-empty__wrapper\"><p class=\"is-empty__info\">This page is empty, add some books and proceed to order.</p></div>';\n    return;\n  }\n  divEl.insertAdjacentHTML('beforeend', renderMarkUp());\n}\n\nisEmpty();\n\n// Видалення книги з корзини при натиску на кнопку\nconst parentEl = document.querySelector('.shopping__list');\n\nparentEl.addEventListener('click', event => {\n  if (event.target.classList.contains('shopping__card-btn')) {\n    const dataBookName = event.target.getAttribute('data-book-name');\n\n    const bookIndex = shoppingList.findIndex(\n      bookInStorage => bookInStorage.title === dataBookName\n    );\n\n    shoppingList.splice(bookIndex, 1);\n    // Зберігаємо зміни в LocalStorage\n    localStorage.setItem(\n      SHOPPING_LIST_STORAGE_KEY,\n      JSON.stringify(shoppingList)\n    );\n\n    divEl.innerHTML = renderMarkUp();\n    if (!shoppingList.length) {\n      divEl.innerHTML =\n        '<div class=\"is-empty__wrapper\"><p class=\"is-empty__info\">This page is empty, add some books and proceed to order.</p></div>';\n      return;\n    }\n  }\n});\n\n// --------------------------------------------------/////\n\n// чорновик\n\n// const bookTitleEl = document.getElementById('title');\n// const bookAuthorEl = document.getElementById('author');\n// const bookDescriptionEl = document.getElementById('description');\n// const bookListNameEl = document.getElementById('list_name');\n// const bookImageEl = document.getElementById('book_image').getAttribute('src');\n// // const bookAmazonUrl = document\n// //   .getElementById('shop_Amazon')\n// //   .getAttribute('href');\n// // const bookAppleUrl = document\n// .getElementById('apple_Books')\n// .getAttribute('href');\n// // const bookShopUrl = document.getElementById('bookshop').getAttribute('href');\n\n// const book = {\n//   title: bookTitleEl.textContent,\n//   author: bookAuthorEl.textContent,\n//   description: bookDescriptionEl.textContent,\n//   list_name: bookListNameEl.textContent,\n//   //   book_image: bookImageEl,\n//   //   buy_links: [\n//   //     {\n//   //       amazon: bookAmazonUrl,\n//   //       appleBooks: bookAppleUrl,\n//   //       bookShop: bookShopUrl,\n//   //     },\n//   //   ],\n// };\n// console.log(book);\n\n// // Отримуємо корзину товарів з LocalStorage або створюємо нову, якщо вона ще не існує\n// const shoppingList =\n//   JSON.parse(localStorage.getItem(SHOPPING_LIST_STORAGE_KEY)) || [];\n// console.log(shoppingList);\n\n// // Функція для додавання товару у корзину\n// function addToStorage(book) {\n//   // Додаємо товар до корзини\n//   shoppingList.push(book);\n//   // Зберігаємо зміни в LocalStorage\n//   localStorage.setItem(SHOPPING_LIST_STORAGE_KEY, JSON.stringify(shoppingList));\n// }\n"],"names":["$399cd7aec2522034$var$divEl","document","querySelector","$399cd7aec2522034$var$SHOPPING_LIST_STORAGE_KEY","$399cd7aec2522034$var$renderMarkUp","$399cd7aec2522034$var$shoppingList","map","param","title","author","description","list_name","concat","join","JSON","parse","localStorage","getItem","length","insertAdjacentHTML","innerHTML","addEventListener","event","target","classList","contains","dataBookName","getAttribute","bookIndex","findIndex","bookInStorage","splice","setItem","stringify"],"version":3,"file":"shopping-list.c88124eb.js.map"}