var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},t={},i=e.parcelRequired7c6;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in t){var i=t[e];delete t[e];var a={id:e,exports:{}};return n[e]=a,i.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,n){t[e]=n},e.parcelRequired7c6=i),i.register("jJ57b",(function(e,n){var t=i("krGWQ"),a=i("iO0l9");const{appleBooksIconPath:o,bookShopIconPath:s,amazonIconPath:l,svgTrashIcon:r,emptyListStubImage:c}=(0,a.default)(),{divEl:d,paginationContainerPages:p,paginationContainerBackBtn:g,paginationContainerEndBtn:h,paginationsSection:m,startButton:u,previousButton:f,nextButton:v,endButton:_}=(0,t.default)(),b="storage-of-books",k=JSON.parse(localStorage.getItem(b))||[],y=3;let L=Math.ceil(k.length/y),T=1,$=(T-1)*y,E=$+y,S=k.slice($,E);function w(e){return e.map((({_id:e,title:n,author:t,description:i,list_name:a,book_image:c,amazon_product_url:d,buy_links:[p,g]})=>`\n        <article class="shopping__card">\n          <div class="grid-img">\n            <img class="shopping__card-img" src="${c}" alt="${n}" />\n          </div>\n\n          <div class="grid-title">\n            <h3 class="shopping__card-title">${n}</h3>\n            <p class="shopping__card-category">${a}</p>\n          </div>\n\n          <div class="grid-description">\n            <p class="shopping__card-description">${i}</p>\n          </div>\n\n          <div class="grid-author">\n            <p class="shopping__card-author">${t}</p>\n          </div>\n\n          <div class="grid-shoplist">\n            <ul class="shopping__card-shoplist">\n              <li class="store">\n                <a "modal-shop-img" href="${d}" target="_blank" rel="noopener noreferrer nofollow" aria-label="Amazon link">\n                  <img class="modal-shop-img shopping-shopimg amazon" src="${l}" alt="Amazon link" alt="Amazon live page"/>\n                </a>\n              </li>\n              <li class="store">\n                <a "modal-shop-img" href="${p.url}" target="_blank" rel="noopener noreferrer nofollow" aria-label="Apple Books link">\n                  <img class="modal-shop-img shopping-shopimg apple" src="${o}" alt="Apple Books link" />\n                </a>\n              </li>\n              <li class="store">\n                <a "modal-shop-img" href="${g.url}" target="_blank" rel="noopener noreferrer nofollow" aria-label="BookShop link">\n                  <img class="modal-shop-img shopping-shopimg book-shop" src="${s}" alt="BookShop link" />\n                </a>\n              </li>\n            </ul>\n          </div>\n          <button class="shopping__card-btn" type="button" data-book-id="${e} aria-label="Remove book from shopping list">\n            <svg class="icon-trash" data-book-id="${e}" width="17" height="17">\n              <use href="${r}#icon-trash"></use>\n            </svg>\n          </button>\n        </article>\n        `)).join("")}k.length?d.insertAdjacentHTML("beforeend",w(S)):d.innerHTML=`<div class="is-empty__wrapper"><p class="is-empty__info">This page is empty, add some books and proceed to order.</p><img class="is-empty__picture" src="${c}" alt="Shop is Empty"></div >`,d.addEventListener("click",(e=>{if(e.target.closest(".shopping__card-btn")){const n=e.target.getAttribute("data-book-id"),t=k.findIndex((e=>e._id===n));if(k.splice(t,1),localStorage.setItem(b,JSON.stringify(k)),!k.length)return void(d.innerHTML=`<div class="is-empty__wrapper"><p class="is-empty__info">This page is empty, add some books and proceed to order.</p><img class="is-empty__picture" src="${c}" alt="Shop is Empty"></div >`);C().length?(d.innerHTML=w(C()),console.log(C()),H(p)):(f.click(),H(p)),k.length<=3&&(A(g),A(h),p.innerHTML="")}}));for(let e=1;e<=L;e++){if(k.length<=3)return;const n=e,t=document.createElement("button");t.classList.add("paginations__btn"),t.classList.add("paginations__btn--pages"),t.textContent=e,N(g),N(h),t.addEventListener("click",(()=>{T=n,B(),x(),M(u),M(_)})),p.appendChild(t)}function B(){d.innerHTML=""}function C(){return $=(T-1)*y,E=$+y,k.slice($,E)}function x(){d.insertAdjacentHTML("beforeend",w(C()))}function M(e){e.disabled=!1}function I(e){e.disabled=!0}function N(e){e.style.display="flex"}function A(e){e.style.display="none"}function H(e){const n=k.length/y;return Math.round(n)===n?e.lastElementChild.remove():void 0}function O(e){const n=document.querySelector(".active");n&&n.classList.remove("active"),e.classList.add("active")}p.firstChild.classList.add("active"),m.addEventListener("click",(function(e){const n=document.querySelector(".active");if(console.log(e.target),"BUTTON"!==e.target.tagName)return;switch(e.target){case f:T>1&&(T--,B(),x(),M(_),n.classList.remove("active"),n.previousElementSibling.classList.add("active"));break;case v:T<L&&(T++,B(),x(),M(u),n.classList.remove("active"),n.nextElementSibling.classList.add("active"));break;case u:T=1,B(),x(),I(u),M(_),O(p.firstChild);break;case _:T=L,B(),x(),I(_),M(u),O(p.lastElementChild)}})),p.addEventListener("click",(function(e){if("BUTTON"!==e.target.tagName)return;O(e.target)}))})),i("63nI0"),i("aTNUQ"),i("j4h6C"),i("bHKmf"),i("aC5CC"),i("jJ57b"),i("kThre"),i("ipdwX"),i("apWeF"),i("aDVvv"),i("lkxDy"),i("eq7JK");
//# sourceMappingURL=shopping-list.6959433b.js.map
