{"mappings":"AAEA,MAAMA,EAAQC,SAASC,cAAc,mBAIN,SAAtBC,IACP,OAAOC,EACJC,KAAI,EAACC,MAAEA,EAAKC,OAAEA,EAAMC,YAAEA,EAAWC,UAAEA,KAC3B,+OAU0BH,kDACEG,sFAIGD,iFAILD,iUAU8BD,8JAMhEI,KAAK,G,CAGV,MAAMN,EACJO,KAAKC,MAAMC,aAAaC,QA7CQ,sBA6C+B,GAG1DV,EAAaW,OAKlBf,EAAMgB,mBAAmB,YAAab,KAJpCH,EAAMiB,UACJ,8HASWhB,SAASC,cAAc,mBAE/BgB,iBAAiB,SAASC,IACjC,GAAIA,EAAMC,OAAOC,UAAUC,SAAS,sBAAuB,CACzD,MAAMC,EAAeJ,EAAMC,OAAOI,aAAa,kBAEzCC,EAAYrB,EAAasB,WAC7BC,GAAiBA,EAAcrB,QAAUiB,IAW3C,GARAnB,EAAawB,OAAOH,EAAW,GAEfZ,aAAHgB,QAvEiB,mBAyE5BlB,KAAKmB,UAAU1B,IAGjBJ,EAAMiB,UAAYd,KACbC,EAAaW,OAGhB,YAFAf,EAAMiB,UACJ,8H","sources":["src/js/shopping-list.js"],"sourcesContent":["'use strict';\n\nconst divEl = document.querySelector('.shopping__list');\nconst SHOPPING_LIST_STORAGE_KEY = 'storage-of-books'; // ключ\n\n// Рендер розмітки книг, які збережені у LS\nfunction renderMarkUp() {\n  return shoppingList\n    .map(({ title, author, description, list_name }) => {\n      return `<article class=\"shopping__card\">\n  <div class=\"div1\">\n    <img\n      class=\"shopping__card-img\"\n      src=\"https://picsum.photos/116/165\"\n      alt=\"\"\n    />\n  </div>\n\n  <div class=\"div2\">\n    <h3 class=\"shopping__card-title\">${title}</h3>\n    <p class=\"shopping__card-category\">${list_name}</p>\n  </div>\n\n  <div class=\"div3\">\n    <p class=\"shopping__card-description\">${description}</p>\n  </div>\n\n  <div class=\"div4\">\n    <p class=\"shopping__card-author\">${author}</p>\n  </div>\n\n  <div class=\"div5\">\n    <ul class=\"shopping__card-shoplist\">\n      <li class=\"store\"><a href=\"\">St1</a></li>\n      <li class=\"store\"><a href=\"\">St2</a></li>\n      <li class=\"store\"><a href=\"\">St3</a></li>\n    </ul>\n  </div>\n  <button class=\"shopping__card-btn\" type=\"button\" data-book-name=\"${title}\"><svg class=\"icon-trash\" width=\"16\" height=\"16\"><use href=\"./src/images/symbol-defs.svg#icon-chevron\"></use></svg>\n  </button>\n</article>\n\n        `;\n    })\n    .join('');\n}\n\nconst shoppingList =\n  JSON.parse(localStorage.getItem(SHOPPING_LIST_STORAGE_KEY)) || [];\n\nfunction isEmpty() {\n  if (!shoppingList.length) {\n    divEl.innerHTML =\n      '<div class=\"is-empty__wrapper\"><p class=\"is-empty__info\">This page is empty, add some books and proceed to order.</p></div>';\n    return;\n  }\n  divEl.insertAdjacentHTML('beforeend', renderMarkUp());\n}\n\nisEmpty();\n\n// Видалення книги з корзини при натиску на кнопку\nconst parentEl = document.querySelector('.shopping__list');\n\nparentEl.addEventListener('click', event => {\n  if (event.target.classList.contains('shopping__card-btn')) {\n    const dataBookName = event.target.getAttribute('data-book-name');\n\n    const bookIndex = shoppingList.findIndex(\n      bookInStorage => bookInStorage.title === dataBookName\n    );\n\n    shoppingList.splice(bookIndex, 1);\n    // Зберігаємо зміни в LocalStorage\n    localStorage.setItem(\n      SHOPPING_LIST_STORAGE_KEY,\n      JSON.stringify(shoppingList)\n    );\n\n    divEl.innerHTML = renderMarkUp();\n    if (!shoppingList.length) {\n      divEl.innerHTML =\n        '<div class=\"is-empty__wrapper\"><p class=\"is-empty__info\">This page is empty, add some books and proceed to order.</p></div>';\n      return;\n    }\n  }\n});\n\n// --------------------------------------------------/////\n\n// чорновик\n\n// const bookTitleEl = document.getElementById('title');\n// const bookAuthorEl = document.getElementById('author');\n// const bookDescriptionEl = document.getElementById('description');\n// const bookListNameEl = document.getElementById('list_name');\n// const bookImageEl = document.getElementById('book_image').getAttribute('src');\n// // const bookAmazonUrl = document\n// //   .getElementById('shop_Amazon')\n// //   .getAttribute('href');\n// // const bookAppleUrl = document\n// //   .getElementById('apple_Books')\n// //   .getAttribute('href');\n// // const bookShopUrl = document.getElementById('bookshop').getAttribute('href');\n\n// const book = {\n//   title: bookTitleEl.textContent,\n//   author: bookAuthorEl.textContent,\n//   description: bookDescriptionEl.textContent,\n//   list_name: bookListNameEl.textContent,\n//   //   book_image: bookImageEl,\n//   //   buy_links: [\n//   //     {\n//   //       amazon: bookAmazonUrl,\n//   //       appleBooks: bookAppleUrl,\n//   //       bookShop: bookShopUrl,\n//   //     },\n//   //   ],\n// };\n// console.log(book);\n\n// // Отримуємо корзину товарів з LocalStorage або створюємо нову, якщо вона ще не існує\n// const shoppingList =\n//   JSON.parse(localStorage.getItem(SHOPPING_LIST_STORAGE_KEY)) || [];\n// console.log(shoppingList);\n\n// // Функція для додавання товару у корзину\n// function addToStorage(book) {\n//   // Додаємо товар до корзини\n//   shoppingList.push(book);\n//   // Зберігаємо зміни в LocalStorage\n//   localStorage.setItem(SHOPPING_LIST_STORAGE_KEY, JSON.stringify(shoppingList));\n// }\n"],"names":["$e5c62ffd1c5d842f$var$divEl","document","querySelector","$e5c62ffd1c5d842f$var$renderMarkUp","$e5c62ffd1c5d842f$var$shoppingList","map","title","author","description","list_name","join","JSON","parse","localStorage","getItem","length","insertAdjacentHTML","innerHTML","addEventListener","event","target","classList","contains","dataBookName","getAttribute","bookIndex","findIndex","bookInStorage","splice","setItem","stringify"],"version":3,"file":"shopping-list.abdf7635.js.map"}