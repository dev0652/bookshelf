{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/runtime-b423c30a9393cc0a.js","src/index.js","src/js/renderCategoriesList.js","src/js/activeCatBtnSwitcher.js","src/js/home-categories.js","src/js/handleAllCategoriesClick.js","src/js/home-bs/fetchBooks.js","src/js/home-bs/markupBook.js","src/js/home-bs/home-bs.js","src/js/renderSelectedBooks.js","src/js/modal.js","node_modules/@parcel/runtime-js/lib/runtime-cf36cf5ab5731be9.js","node_modules/@parcel/runtime-js/lib/runtime-ec45650cc0a3e24f.js","node_modules/@parcel/runtime-js/lib/runtime-5d2ea5d597251bbc.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"5ZPII\\\":\\\"index.06eb037d.js\\\",\\\"3dsh1\\\":\\\"apple-books.652b354e.png\\\",\\\"1Fi3j\\\":\\\"book-shop.1d091ebd.png\\\",\\\"6GerT\\\":\\\"amazon.626c9508.png\\\",\\\"iWepY\\\":\\\"shopping-list.0aacc6bc.js\\\",\\\"hivvt\\\":\\\"index.90e05346.js\\\"}\"));","import getRefs from './js/refs';\nconst refs = getRefs();\n\nimport './js/spinner.js';\n\n// Header\nimport './js/header-height-adjust';\n// import './js/burger-mobile';\nimport './js/color-scheme-switcher';\n\n// Sidebar\nimport './js/renderCategoriesList.js';\nimport './js/activeCatBtnSwitcher';\nimport './js/home-categories';\nimport './js/handleAllCategoriesClick';\nimport './js/support';\nimport './js/renderSelectedBooks';\n\n// Content part\nimport './js/home-bs/home-bs';\n\n// Modal - popup\nimport './js/modal';\n\n// Authorization\nimport './js/firebase/firebase';\nimport { validateOnSubmit } from './js/form-validator';\nrefs.authForm.addEventListener('submit', validateOnSubmit);\n\n// Scroll-to-top button\nimport './js/back-to-top';\n","import axios from 'axios';\nimport getRefs from './refs';\n\nconst { categoryListEl } = getRefs();\n\nasync function categoriesArray() {\n  try {\n    const { data } = await axios.get(\n      'https://books-backend.p.goit.global/books/category-list'\n    );\n\n    return data;\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nexport async function renderCategories() {\n  try {\n    const array = await categoriesArray();\n    const inAlphabeticalOrder = array.sort((a, b) =>\n      a.list_name.localeCompare(b.list_name)\n    );\n\n    for (const arr of inAlphabeticalOrder) {\n      const listItem = document.createElement('li');\n      const catBtn = document.createElement('button');\n      catBtn.classList.add('category-btn');\n      catBtn.textContent = `${arr.list_name}`;\n      categoryListEl.appendChild(listItem);\n      listItem.appendChild(catBtn);\n    }\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nrenderCategories();\n","import getRefs from './refs';\n\nconst { categoryListEl, allCategoriesBtn } = getRefs();\n\nfunction activeCatBtnSwitch(e) {\n  e.preventDefault();\n  if (e.target.nodeName !== 'BUTTON') {\n    return;\n  }\n\n  const activeBtn = e.target;\n  const prevActiveBtn = document.querySelector('.active-category');\n\n  if (prevActiveBtn && prevActiveBtn !== activeBtn) {\n    prevActiveBtn.classList.remove('active-category');\n  }\n\n  activeBtn.classList.add('active-category');\n}\n\ncategoryListEl.addEventListener('click', activeCatBtnSwitch);\nconsole.log('categoryListEl: ', categoryListEl);\n// allCategoriesBtn.addEventListener('click', activeCatBtnSwitch);\n","import getRefs from './refs';\nconst { categoryListEl, titleEl } = getRefs();\n\n// Find and paint last word in a category title\nlet lastWord = '';\n\nfunction handleCategoryClick(event) {\n  if (event.target.classList.contains('category-btn')) {\n    const buttonText = event.target.textContent;\n    const words = buttonText.split(' ');\n    lastWord = words[words.length - 1];\n    const buttonTextWithoutLastWord = buttonText\n      .split(' ')\n      .slice(0, -1)\n      .join(' ');\n\n    titleEl.textContent = buttonTextWithoutLastWord;\n    titleEl.innerHTML += ` <span class=\"home-bs__title-part\">${lastWord}</span>`;\n  }\n}\n\ncategoryListEl.addEventListener('click', handleCategoryClick);\n","// import { title } from 'process';\nimport getRefs from './refs';\nimport { renderTopBooks } from './home-bs/home-bs';\n\nconst { allCategoriesBtn, categoryContainerEl, titleEl } = getRefs();\n\nallCategoriesBtn.addEventListener('click', handleAllCategoriesClick);\n\nasync function handleAllCategoriesClick(e) {\n  e.preventDefault();\n  titleEl.innerHTML = `Best Sellers <span class=\"home-bs__title-part\">Books</span>`;\n  categoryContainerEl.innerHTML = '';\n  await renderTopBooks();\n}\n","import axios from 'axios';\nimport Notiflix from 'notiflix';\n\nexport default async function getTopBooksArray() {\n  Notiflix.Loading.dots();\n  // Notiflix.Loading.pulse();\n\n  try {\n    const { data } = await axios.get(\n      'https://books-backend.p.goit.global/books/top-books'\n    );\n    Notiflix.Loading.remove();\n\n    return data;\n  } catch (error) {\n    Notiflix.Loading.remove();\n    Notiflix.Notify.failure('Something went wrong. Please try again');\n    console.log(error);\n  }\n}\n","export function createBookMarkup(book) {\n  const markup = `\n\t\t\t\t\t\t<a class=\"book-item-link\" href=\"\" aria-label=\"Book thumbnail\">\n\t\t\t\t\t\t\t<div class=\"book-item-thumb\">\n\n\t\t\t\t\t\t\t\t<img class=\"book-image\" src=\"${book.book_image}\"  loading=\"lazy\" data_id=${book._id} />\n\n\t\t\t\t\t\t\t\t<div class=\"book-image-overlay\">\n\t\t\t\t\t\t\t\t\t<p class=\"book-image-overlay-text\">Quick view</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div class=\"book-item-meta\">\n\t\t\t\t\t\t\t\t<h3 class=\"book-title\">${book.title}</h3>\n       \t\t\t\t\t<p class=\"book-author\"> ${book.author}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</a>\n\n        `;\n\n  return markup;\n}\n","import getTopBooksArray from './fetchBooks';\nimport { createBookMarkup } from './markupBook.js';\nimport getRefs from '../refs';\n\nconst { categoryContainerEl } = getRefs();\n\nexport async function renderTopBooks() {\n  try {\n    const data = await getTopBooksArray();\n\n    const categoryTop = document.createElement('ul');\n\n    for (const element of data) {\n      const categoryItem = document.createElement('li');\n      categoryItem.classList.add('home-category');\n\n      const categoryTitel = document.createElement('h2');\n      categoryTitel.classList.add('home-category-title');\n      categoryItem.appendChild(categoryTitel);\n      categoryTitel.innerText = element.list_name;\n\n      categoryTop.appendChild(categoryItem);\n\n      const bestSellers = document.createElement('ul');\n      bestSellers.classList.add('books-list');\n\n      for (const book of element.books) {\n        const bestBook = document.createElement('li');\n        bestBook.classList.add('book-item');\n        bestBook.innerHTML = createBookMarkup(book);\n\n        bestSellers.appendChild(bestBook);\n        categoryItem.appendChild(bestSellers);\n      }\n\n      const buttonEl = document.createElement('button');\n      buttonEl.classList.add('button');\n      buttonEl.classList.add('see-more-btn');\n      buttonEl.innerText = 'See more';\n\n      categoryItem.appendChild(buttonEl);\n    }\n\n    categoryContainerEl.appendChild(categoryTop);\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nrenderTopBooks();\n","import axios from 'axios';\nimport Notiflix from 'notiflix';\nimport getRefs from './refs';\nconst { categoryListEl, categoryContainerEl } = getRefs();\n\ncategoryListEl.addEventListener('click', renderSelectedBooks);\n\nasync function fetchSelectedBooks(e) {\n  // Notiflix.Loading.pulse('Please hang on...');\n  Notiflix.Loading.dots('Please wait');\n\n  const clickedCategory = e.target.textContent;\n\n  try {\n    const { data } = await axios.get(\n      `https://books-backend.p.goit.global/books/category?category=${clickedCategory}`\n    );\n    Notiflix.Loading.remove();\n    return data;\n  } catch (error) {\n    Notiflix.Loading.remove();\n    Notiflix.Notify.failure('Something went wrong. Please try again');\n    console.log(error);\n  }\n}\n\nasync function renderPage(selectedBooks) {\n  categoryContainerEl.innerHTML = '';\n  const data = selectedBooks;\n  const selectedBookList = document.createElement('ul');\n  try {\n    for (const book of data) {\n      const selectedBook = document.createElement('li');\n\n      selectedBook.innerHTML = `<img src=\"${book.book_image}\" width=\"${book.book_image_width}\" height=\"${book.book_image_height}\" alt=\"bookcover of ${book.title}\" /><h3>${book.title}</h3><h4>${book.author}</h4>`;\n      selectedBookList.appendChild(selectedBook);\n    }\n    categoryContainerEl.appendChild(selectedBookList);\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nasync function renderSelectedBooks(e) {\n  e.preventDefault();\n  if (e.target.nodeName !== 'BUTTON') {\n    return;\n  }\n  let selectedBooks;\n  const data = await fetchSelectedBooks(e);\n  selectedBooks = data;\n  renderPage(selectedBooks);\n}\n","// import BooksApi from './api';\n\nimport getRefs from './refs.js';\n\nconst refs = getRefs();\n\nclass BooksApi {\n  #BASE_URL = `https://books-backend.p.goit.global/books`;\n  bookID = null;\n\n  async fetchBookByID() {\n    try {\n      const response = await fetch(`${this.#BASE_URL}/${this.bookID}`);\n      const book = await response.json();\n      return book;\n    } catch (error) {\n      console.log(error.message);\n    }\n  }\n}\n\nconst BookAPI = new BooksApi();\n\n// const modalContentEl = document.querySelector('.modal-pop-up-content');\n\n// --------------------------------------//////// код юра\n// --------------------------------------////////\n// --------------------------------------////////\nconst SHOPPING_LIST_STORAGE_KEY = 'storage-of-books'; // ключ\nconst addBtnEL = document.querySelector('.modal-pop-up-btn');\n\nconst shoppingList =\n  JSON.parse(localStorage.getItem(SHOPPING_LIST_STORAGE_KEY)) || [];\nconsole.log(shoppingList);\n\n// Функція для додавання товару у корзину\nfunction addToStorage(book) {\n  // Додаємо товар до корзини\n  shoppingList.push(book);\n  // Зберігаємо зміни в LocalStorage\n  localStorage.setItem(SHOPPING_LIST_STORAGE_KEY, JSON.stringify(shoppingList));\n}\n\n// Додавання книги у корзину\nfunction handleAddBookInStorage(data) {\n  //   Фільтрування унікальності книги\n  const isBookId = shoppingList.find(\n    bookInStorage => bookInStorage._id === data._id\n  );\n  if (isBookId) {\n    console.log('Ця книга вже у кошику');\n    return;\n  }\n  addToStorage(data);\n}\n\nexport async function handleBookElClickToStorage(e) {\n  // BookAPI.bookID = '643282b1e85766588626a080';\n\n  try {\n    const data = await BookAPI.fetchBookByID();\n    const fn = await handleAddBookInStorage(data);\n    const isBookId = shoppingList.find(\n      bookInStorage => bookInStorage._id === data._id\n    );\n    if (isBookId) {\n      console.log('добавлено у кошик');\n      addBtnEL.textContent = 'STOP';\n      return;\n    }\n  } catch (err) {\n    console.log(err);\n  }\n}\n\naddBtnEL.addEventListener('click', handleBookElClickToStorage);\n// ----------------------------------------////\n// ----------------------------------------////\n// ----------------------------------------////\n\nexport async function handleBookElClick(e) {\n  BookAPI.bookID = e.target.attributes.data_id.value;\n\n  try {\n    const data = await BookAPI.fetchBookByID();\n    toggleModal();\n    refs.modalContentEl.innerHTML = createModal(data);\n\n    const isBookId = shoppingList.find(\n      bookInStorage => bookInStorage._id === data._id\n    );\n    if (isBookId) {\n      console.log('Ця книга вже у кошику');\n      addBtnEL.textContent = 'STOP';\n      return;\n    }\n  } catch (err) {\n    console.log(err);\n  }\n}\n\nexport function createModal(data) {\n  const {\n    _id,\n    book_image,\n    author,\n    title,\n    description,\n    amazon_product_url,\n    buy_links: [amazon, apple, bandn, million, bookshop, indie],\n  } = data;\n\n  const appleBooksIcon = new URL(\n    '../images/shops/apple-books.png',\n    import.meta.url\n  ).href;\n  const bookShopIcon = new URL('../images/shops/book-shop.png', import.meta.url)\n    .href;\n  const amazonIcon = new URL('../images/shops/amazon.png', import.meta.url)\n    .href;\n\n  return `\n                        \n              <img class=\"modal-img\" src=\"${book_image}\"/>\n              <div class='modal-book-atributes'>\n              <p class=\"modal-book-title\">${title}</p>\n              <p class=\"modal-book-author\">${author}</p>\n              <p class=\"modal-book-desc\">${description}</p>\n              <div class=\"modal-shops\">\n              <a class=\"modal-shop-link\" href=\"${amazon_product_url}\" target=\"_blank\">\n              <img class=\"modal-shop-img amazon\" src=\"${amazonIcon}\" alt=\"Amazon link\"/>\n              </a>\n              <a class=\"modal-shop-link\" href=\"${apple.url}\" target=\"_blank\">\n              <img class=\"modal-shop-img apple\" src=\"${appleBooksIcon}\" alt=\"Apple Books link\" />\n              </a>\n              <a class=\"modal-shop-link\" href=\"${bookshop.url}\" target=\"_blank\">\n              <img class=\"modal-shop-img\" src=\"${bookShopIcon}\" alt=\"Book Shop link\"/>\n              </a>\n              </div>\n              </div>\n              \n          `;\n}\n\nrefs.categoryContainerEl.addEventListener('click', function (e) {\n  // e.target was the clicked element\n  if (e.target.matches('.book-image')) {\n    e.preventDefault();\n    handleBookElClick(e);\n  }\n});\n\n// refs.openModalPopUpBtn.addEventListener('click', handleBookElClick);\n\nfunction toggleModal() {\n  refs.modalPopUp.classList.toggle('is-hidden');\n}\n\n// Close PopUp Modal by Close btn click\nrefs.closeModalPopUpBtn.addEventListener(\n  'click',\n  handleModalPopUpCloseBtnClick\n);\n\nfunction handleModalPopUpCloseBtnClick(e) {\n  toggleModal();\n  refs.modalContentEl.innerHTML = '';\n}\nrefs.closeModalPopUpBtn.removeEventListener('click',\nhandleModalPopUpCloseBtnClick);\n\n\n// Close PopUp Modal by Esc click\nwindow.addEventListener('keydown', handleEscKeydown);\n\nfunction handleEscKeydown(e) {\n  if (e.key === 'Escape') {\n    toggleModal();\n  }\n}\n\nwindow.removeEventListener('keydown', handleEscKeydown);\n\n// Close PopUp Modal by backdrop click\nwindow.addEventListener('click', handleBackdropClick);\n\nfunction handleBackdropClick(e) {\n  if (e.target == refs.modalPopUp) {\n    toggleModal();\n  }\n}\n\nwindow.removeEventListener('click', handleBackdropClick);\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"3dsh1\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"1Fi3j\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"6GerT\")).toString();"],"names":["parcelRequire","register","JSON","parse","$krGWQ","$2shzp","categoryListEl","$07ef90416bcfd32d$var$categoryListEl","default","async","inAlphabeticalOrder","data","get","error","console","log","$07ef90416bcfd32d$var$categoriesArray","sort","a","b","list_name","localeCompare","arr","listItem","document","createElement","catBtn","classList","add","textContent","appendChild","$07ef90416bcfd32d$export$f20c709553293f6e","$314d6ced897a90d8$var$categoryListEl","allCategoriesBtn","$314d6ced897a90d8$var$allCategoriesBtn","addEventListener","e","preventDefault","target","nodeName","activeBtn","prevActiveBtn","querySelector","remove","$3946777534fd3ab4$var$categoryListEl","titleEl","$3946777534fd3ab4$var$titleEl","$3946777534fd3ab4$var$lastWord","event","contains","buttonText","words","split","length","buttonTextWithoutLastWord","slice","join","innerHTML","$a991a5a61eb1b01c$export$2e2bcd8739ae039","$parcel$interopDefault","$7Y9D8","Loading","dots","Notify","failure","$14b91c62de72313e$export$fc330cc8afb2a391","book","book_image","_id","title","author","categoryContainerEl","$04d3e4164f62d844$var$categoryContainerEl","$04d3e4164f62d844$export$897fb17cde4e950b","categoryTop","element","categoryItem","categoryTitel","innerText","bestSellers","books","bestBook","buttonEl","$3d93e9602669d31c$var$allCategoriesBtn","$3d93e9602669d31c$var$categoryContainerEl","$3d93e9602669d31c$var$titleEl","$69ac3b0ed06af64b$var$categoryListEl","$69ac3b0ed06af64b$var$categoryContainerEl","selectedBooks","clickedCategory","$69ac3b0ed06af64b$var$fetchSelectedBooks","selectedBookList","selectedBook","book_image_width","book_image_height","$69ac3b0ed06af64b$var$renderPage","$8a7e756c566dd1ea$var$refs","$8a7e756c566dd1ea$var$BookAPI","BASE_URL","bookID","response","fetch","this","json","message","$8a7e756c566dd1ea$var$SHOPPING_LIST_STORAGE_KEY","$8a7e756c566dd1ea$var$addBtnEL","$8a7e756c566dd1ea$var$shoppingList","localStorage","getItem","$8a7e756c566dd1ea$var$handleAddBookInStorage","find","bookInStorage","push","setItem","stringify","$8a7e756c566dd1ea$export$8ec645b97243d00e","attributes","data_id","value","fetchBookByID","$8a7e756c566dd1ea$var$toggleModal","modalContentEl","description","amazon_product_url","buy_links","amazon","apple","bandn","million","bookshop","indie","appleBooksIcon","URL","$d738d95b51fb9d81$exports","href","bookShopIcon","$65b5bcf5299cbc56$exports","amazonIcon","$e5cfff40304e52c1$exports","url","$8a7e756c566dd1ea$export$b63bc83cbdd7b6d5","err","resolve","toString","modalPopUp","toggle","$8a7e756c566dd1ea$var$handleModalPopUpCloseBtnClick","$8a7e756c566dd1ea$var$handleEscKeydown","key","$8a7e756c566dd1ea$var$handleBackdropClick","matches","closeModalPopUpBtn","removeEventListener","window","authForm","$1szBL","validateOnSubmit"],"version":3,"file":"index.06eb037d.js.map"}